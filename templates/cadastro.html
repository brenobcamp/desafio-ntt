<!DOCTYPE html>
<html>
<head>
  <title>CRUD de Insetos - Cadastro</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body>
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">CRUD de Insetos</a>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" href="listagem.html">Listagem</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="cadastro.html">Cadastro</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="edicao.html">Edição</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="remocao.html">Remoção</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <div class="container mt-5">
    <h2>Cadastro de Insetos</h2>
    <form id="form-cadastro" enctype="multipart/form-data">
      <div class="mb-3">
        <label for="nome-comum" class="form-label">Nome Comum:</label>
        <input type="text" class="form-control" id="nome-comum" required>
      </div>
      <div class="mb-3">
        <label for="nome-cientifico" class="form-label">Nome Científico:</label>
        <input type="text" class="form-control" id="nome-cientifico" required>
      </div>
      <div class="mb-3">
        <label for="ordem" class="form-label">Ordem:</label>
        <input type="text" class="form-control" id="ordem" required>
      </div>
      <div class="mb-3">
        <label for="imagem" class="form-label">Imagem:</label>
        <input type="file" class="form-control" id="imagem" required>
      </div>
      <button type="submit" class="btn btn-primary">Cadastrar</button>
    </form>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    function handleFormSubmit(event) {
        event.preventDefault();

        const nomeComum = document.getElementById('nome-comum').value;
        const nomeCientifico = document.getElementById('nome-cientifico').value;
        const ordem = document.getElementById('ordem').value;
        const imagemFile = document.getElementById('imagem').files[0];

        // Simular o envio do novo inseto para o servidor
        console.log('Inseto cadastrado:');
        console.log('Nome Comum:', nomeComum);
        console.log('Nome Científico:', nomeCientifico);
        console.log('Ordem:', ordem);
        console.log('Imagem:', imagemFile);

        //Limpar os campos do formulário
        document.getElementById('nome-comum').value = '';
        document.getElementById('nome-cientifico').value = '';
        document.getElementById('ordem').value = '';
        document.getElementById('imagem').value = '';
    }


// Função para lidar com a submissão do formulário de cadastro

/* 
function handleFormSubmit(event) {
  event.preventDefault();

  const nomeComum = document.getElementById('nome-comum').value;
  const nomeCientifico = document.getElementById('nome-cientifico').value;
  const ordem = document.getElementById('ordem').value;
  const imagemFile = document.getElementById('imagem').files[0];

  // Criar um objeto FormData para enviar os dados do formulário
  const formData = new FormData();
  formData.append('nomeComum', nomeComum);
  formData.append('nomeCientifico', nomeCientifico);
  formData.append('ordem', ordem);
  formData.append('imagem', imagemFile);

  // Simular o envio do novo inseto para o servidor
  fetch('/cadastrar-inseto', {
    method: 'POST',
    body: formData
  })
    .then(response => response.json())
    .then(data => {
      console.log('Inseto cadastrado:', data);
      // Limpar os campos do formulário
      document.getElementById('nome-comum').value = '';
      document.getElementById('nome-cientifico').value = '';
      document.getElementById('ordem').value = '';
      document.getElementById('imagem').value = '';
    })
    .catch(error => {
      console.error('Erro ao cadastrar inseto:', error);
    });
}

// Adicionar um evento de submissão ao formulário de cadastro
const formCadastro = document.getElementById('form-cadastro');
formCadastro.addEventListener('submit', handleFormSubmit);
*/


// Adicionar um evento de submissão ao formulário de cadastro
    const formCadastro = document.getElementById('form-cadastro');
    formCadastro.addEventListener('submit', handleFormSubmit);
  </script>
</body>
</html>